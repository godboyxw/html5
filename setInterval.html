<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>setInterval</title>
  <style>
    body {
      margin: 0
    }

    .div {
      background-image: linear-gradient(to left, red, orange)
    }
  </style>
</head>

<body>
  <div class="div"></div>
  <script>
    //使用setInterval()方法来控制动画
    //每间隔一段时间    改变元素的转态
    /**
      编写这种动画循环的关键是要知道延迟时间多长合适。
      一方面，循环间隔必须足够短，这样才能让不同的动画效果显得更平滑流畅；
      另一方面，循环间隔还要足够长，这样才能确保浏览器有能力渲染产生的变化。
      大多数电脑显示器的刷新频率是60Hz，大概相当于每秒钟重绘60 次。大多数浏览器都会对重绘操作加以限制，不超过显示器的重绘频率，因为即使超过那个频率用户体验也不会有提升。
      因此，最平滑动画的最佳循环间隔是1000ms/60，约等于17ms。以这个循环间隔重绘的动画是最平
      滑的，因为这个速度最接近浏览器的最高限速。为了适应17ms 的循环间隔，多重动画可能需要加以节制，以便不会完成得太快。
    **/
    (function () {
      var x = 0,
        y = 0,
        timer = null

      function animations() {
        x += 10
        y += 10
        document.querySelector('.div').style.width = x + 'px'
        document.querySelector('.div').style.height = y + 'px'
        // if (x >= document.documentElement.clientWidth) {
        //   x = document.documentElement.clientWidth
        // }
        // if (y >= document.documentElement.clientHeight) {
        //   y = document.documentElement.clientHeight
        // }
        if (x >= document.documentElement.clientWidth && y >= document.documentElement.clientHeight) {
          clearInterval(timer)
        }
      }
      timer = setInterval(animations, 1000 / 60)
    })()
  </script>
</body>

</html>